---
title: Java 操作符
date: 2015/02/15
categories:
- javacore
tags:
- javacore
- basics
---

# Java 操作符

## 知识点

![操作符.png](https://upload-images.jianshu.io/upload_images/3101171-ceed021ed7c60696.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

计算机的最基本用途之一就是执行数学运算，作为一门计算机语言，Java 也提供了一套丰富的操作符来操纵变量。我们可以把操作符分成以下几组：

* 算术操作符
* 关系操作符
* 位操作符
* 逻辑操作符
* 赋值操作符
* 其他操作符

## 算术操作符

算术操作符用在数学表达式中，它们的作用和在数学中的作用一样。下表列出了所有的算术操作符。

表格中的示例假设整数变量 A 的值为 10，变量 B 的值为 20：

| 操作符 | 描述                              | 例子               |
| ------ | --------------------------------- | ------------------ |
| +      | 加法 - 相加操作符两侧的值         | A + B 等于 30      |
| -      | 减法 - 左操作数减去右操作数       | A – B 等于-10      |
| \*     | 乘法 - 相乘操作符两侧的值         | A \* B 等于 200    |
| /      | 除法 - 左操作数除以右操作数       | B / A 等于 2       |
| ％     | 取模 - 左操作数除以右操作数的余数 | B%A 等于 0         |
| ++     | 自增 - 操作数的值增加 1           | B++ 或 ++B 等于 21 |
| --     | 自减 - 操作数的值减少 1           | B-- 或 --B 等于 19 |

**示例**

下面的简单示例程序演示了算术操作符。复制并粘贴下面的 Java 程序并保存为 Test.java 文件，然后编译并运行这个程序：

```
public class Test {

  public static void main(String args[]) {
     int a = 10;
     int b = 20;
     int c = 25;
     int d = 25;
     System.out.println("a + b = " + (a + b) );
     System.out.println("a - b = " + (a - b) );
     System.out.println("a * b = " + (a * b) );
     System.out.println("b / a = " + (b / a) );
     System.out.println("b % a = " + (b % a) );
     System.out.println("c % a = " + (c % a) );
     System.out.println("a++   = " +  (a++) );
     System.out.println("a--   = " +  (a--) );
     // 查看  d++ 与 ++d 的不同
     System.out.println("d++   = " +  (d++) );
     System.out.println("++d   = " +  (++d) );
  }
}
```

以上示例编译运行结果如下：

```
a + b = 30
a - b = -10
a * b = 200
b / a = 2
b % a = 0
c % a = 5
a++   = 10
b--   = 11
d++   = 25
++d   = 27
```

## 关系操作符

下表为 Java 支持的关系操作符

表格中的示例整数变量 A 的值为 10，变量 B 的值为 20：

| 操作符 | 描述                                                             | 例子                   |
| ------ | ---------------------------------------------------------------- | ---------------------- |
| ==     | 检查如果两个操作数的值是否相等，如果相等则条件为真。             | （A == B）为假(非真)。 |
| !=     | 检查如果两个操作数的值是否相等，如果值不相等则条件为真。         | (A != B) 为真。        |
| >      | 检查左操作数的值是否大于右操作数的值，如果是那么条件为真。       | （A> B）非真。         |
| <      | 检查左操作数的值是否小于右操作数的值，如果是那么条件为真。       | （A <B）为真。         |
| > =    | 检查左操作数的值是否大于或等于右操作数的值，如果是那么条件为真。 | （A> = B）为假。       |
| <=     | 检查左操作数的值是否小于或等于右操作数的值，如果是那么条件为真。 | （A <= B）为真。       |

**示例**

下面的简单示例程序演示了关系操作符。复制并粘贴下面的 Java 程序并保存为 Test.java 文件，然后编译并运行这个程序：

```
public class Test {

  public static void main(String args[]) {
     int a = 10;
     int b = 20;
     System.out.println("a == b = " + (a == b) );
     System.out.println("a != b = " + (a != b) );
     System.out.println("a > b = " + (a > b) );
     System.out.println("a < b = " + (a < b) );      System.out.println("b >= a = " + (b >= a) );
     System.out.println("b <= a = " + (b <= a) );   } }  
```

以上示例编译运行结果如下：

```
a == b = false
a != b = true
a > b = false
a < b = true b >= a = true
b <= a = false
```

## 位操作符

Java 定义了位操作符，应用于整数类型(int)，长整型(long)，短整型(short)，字符型(char)，和字节型(byte)等类型。

位操作符作用在所有的位上，并且按位运算。假设 a = 60，和 b = 13;它们的二进制格式表示将如下：

```
A = 0011 1100
B = 0000 1101
-----------------
A&b = 0000 1100
A | B = 0011 1101
A ^ B = 0011 0001
~A= 1100 0011
```

下表列出了位操作符的基本运算,假设整数变量 A 的值为 60 和变量 B 的值为 13：

| 操作符 | 描述                                                                               | 例子                            |
| ------ | ---------------------------------------------------------------------------------- | ------------------------------- |
| ＆     | 按位与操作符，当且仅当两个操作数的某一位都非 0 时候结果的该位才为 1。              | （A＆B），得到 12，即 0000 1100 |
| \|     | 按位或操作符，只要两个操作数的某一位有一个非 0 时候结果的该位就为 1。              | （A \| B）得到 61，即 0011 1101 |
| ^      | 按位异或操作符，两个操作数的某一位不相同时候结果的该位就为 1。                     | （A ^ B）得到 49，即 0011 0001  |
| 〜     | 按位补操作符翻转操作数的每一位。                                                   | （〜A）得到-60，即 1100 0011    |
| <<     | 按位左移操作符。左操作数按位左移右操作数指定的位数。                               | A << 2 得到 240，即 1111 0000   |
| >>     | 按位右移操作符。左操作数按位右移右操作数指定的位数。                               | A >> 2 得到 15 即 1111          |
| >>>    | 按位右移补零操作符。左操作数的值按右操作数指定的位数右移，移动得到的空位以零填充。 | A>>>2 得到 15 即 0000 1111      |

**示例**

下面的简单示例程序演示了位操作符。复制并粘贴下面的 Java 程序并保存为 Test.java 文件，然后编译并运行这个程序：

```
public class Test {
  public static void main(String args[]) {
     int a = 60; /* 60 = 0011 1100 */
     int b = 13; /* 13 = 0000 1101 */
     int c = 0;
     c = a & b;       /* 12 = 0000 1100 */
     System.out.println("a & b = " + c );

     c = a | b;       /* 61 = 0011 1101 */
     System.out.println("a | b = " + c );

     c = a ^ b;       /* 49 = 0011 0001 */
     System.out.println("a ^ b = " + c );

     c = ~a;          /*-61 = 1100 0011 */
     System.out.println("~a = " + c );

     c = a << 2;     /* 240 = 1111 0000 */      System.out.println("a << 2 = " + c );       c = a >> 2;     /* 215 = 1111 */
     System.out.println("a >> 2  = " + c );

     c = a >>> 2;     /* 215 = 0000 1111 */
     System.out.println("a >>> 2 = " + c );
  }
}
```

以上示例编译运行结果如下：

```
a & b = 12
a | b = 61
a ^ b = 49
~a = -61
a << 2 = 240 a >> 15
a >>> 15
```

## 逻辑操作符

下表列出了逻辑操作符的基本运算，假设布尔变量 A 为真，变量 B 为假

| 操作符 | 描述                                                                                      | 例子                |
| ------ | ----------------------------------------------------------------------------------------- | ------------------- |
| &&     | 称为逻辑与操作符。当且仅当两个操作数都为真，条件才为真。                                  | （A && B）为假。    |
| \| \|  | 称为逻辑或操作符。如果任何两个操作数任何一个为真，条件为真。                              | （A \| \| B）为真。 |
| ！     | 称为逻辑非操作符。用来反转操作数的逻辑状态。如果条件为 true，则逻辑非操作符将得到 false。 | ！（A && B）为真。  |

**示例**

下面的简单示例程序演示了逻辑操作符。复制并粘贴下面的 Java 程序并保存为 Test.java 文件，然后编译并运行这个程序：

```
public class Test {
  public static void main(String args[]) {
     boolean a = true;
     boolean b = false;
     System.out.println("a && b = " + (a&&b));
     System.out.println("a || b = " + (a||b) );
     System.out.println("!(a && b) = " + !(a && b));
  }
}
```

以上示例编译运行结果如下：

```
a && b = false
a || b = true
!(a && b) = true
```

## 赋值操作符

下面是 Java 语言支持的赋值操作符：

| 操作符  | 描述                                                         | 例子                                |
| ------- | ------------------------------------------------------------ | ----------------------------------- |
| =       | 简单的赋值操作符，将右操作数的值赋给左侧操作数               | C = A + B 将把 A + B 得到的值赋给 C |
| + =     | 加和赋值操作符，它把左操作数和右操作数相加赋值给左操作数     | C + = A 等价于 C = C + A            |
| - =     | 减和赋值操作符，它把左操作数和右操作数相减赋值给左操作数     | C - = A 等价于 C = C - A            |
| \* =    | 乘和赋值操作符，它把左操作数和右操作数相乘赋值给左操作数     | C _ = A 等价于 C = C _ A            |
| / =     | 除和赋值操作符，它把左操作数和右操作数相除赋值给左操作数     | C / = A 等价于 C = C / A            |
| （％）= | 取模和赋值操作符，它把左操作数和右操作数取模后赋值给左操作数 | C％= A 等价于 C = C％A              |
| << =    | 左移位赋值操作符                                             | C << = 2 等价于 C = C << 2          |
| >> =    | 右移位赋值操作符                                             | C >> = 2 等价于 C = C >> 2          |
| ＆=     | 按位与赋值操作符                                             | C＆= 2 等价于 C = C＆2              |
| ^ =     | 按位异或赋值操作符                                           | C ^ = 2 等价于 C = C ^ 2            |
| \| =    | 按位或赋值操作符                                             | C \| = 2 等价于 C = C \| 2          |

**示例**

面的简单示例程序演示了赋值操作符。复制并粘贴下面的 Java 程序并保存为 Test.java 文件，然后编译并运行这个程序：

```
public class Test {
  public static void main(String args[]) {
     int a = 10;
     int b = 20;
     int c = 0;
     c = a + b;
     System.out.println("c = a + b = " + c );
     c += a ;
     System.out.println("c += a  = " + c );
     c -= a ;
     System.out.println("c -= a = " + c );
     c *= a ;
     System.out.println("c *= a = " + c );
     a = 10;
     c = 15;
     c /= a ;
     System.out.println("c /= a = " + c );
     a = 10;
     c = 15;
     c %= a ;
     System.out.println("c %= a  = " + c );
     c <<= 2 ;      System.out.println("c <<= 2 = " + c );      c >>= 2 ;
     System.out.println("c >>= 2 = " + c );
     c >>= 2 ;
     System.out.println("c >>= a = " + c );
     c &= a ;
     System.out.println("c &= 2  = " + c );
     c ^= a ;
     System.out.println("c ^= a   = " + c );
     c |= a ;
     System.out.println("c |= a   = " + c );
  }
}
```

以上示例编译运行结果如下：

```
c = a + b = 30
c += a  = 40
c -= a = 30
c *= a = 300
c /= a = 1
c %= a  = 5
c <<= 2 = 20 c >>= 2 = 5
c >>= 2 = 1
c &= a  = 0
c ^= a   = 10
c |= a   = 10
```

## 条件操作符（?:）

条件操作符也被称为三元操作符。该操作符有 3 个操作数，并且需要判断布尔表达式的值。该操作符的主要是决定哪个值应该赋值给变量。

```
variable x = (expression) ? value if true : value if false
```

**示例**

```
public class Test {
   public static void main(String args[]){
      int a , b;
      a = 10;
b = (a == 1) ? 20: 30;
System.out.println( "Value of b is : " +  b );
      b = (a == 10) ? 20: 30;
     System.out.println( "Value of b is : " + b );
   }
}
```

以上示例编译运行结果如下：

```
Value of b is : 30
Value of b is : 20
```

## instanceOf 操作符

该操作符用于操作对象示例，检查该对象是否是一个特定类型（类类型或接口类型）。

instanceof 操作符使用格式如下：

```
( Object reference variable ) instanceOf  (class/interface type)
```

如果操作符左侧变量所指的对象，是操作符右侧类或接口(class/interface)的一个对象，那么结果为真。

下面是一个例子：

```
String name = 'James';
boolean result = name instanceOf String; // 由于name是Strine类型，所以返回真
```

如果被比较的对象兼容于右侧类型,该操作符仍然返回 true。

看下面的例子：

```
class Vehicle {}

public class Car extends Vehicle {
   public static void main(String args[]){
      Vehicle a = new Car();
      boolean result =  a instanceof Car;
      System.out.println( result);
   }
}
```

以上示例编译运行结果如下：

```
true
```

## Java 操作符优先级

当多个操作符出现在一个表达式中，谁先谁后呢？这就涉及到操作符的优先级别的问题。在一个多操作符的表达式中，操作符优先级不同会导致最后得出的结果差别甚大。

例如，（1+3）＋（3+2）\*2，这个表达式如果按加号最优先计算，答案就是 18，如果按照乘号最优先，答案则是 14。

再如，x = 7 + 3 _ 2;这里 x 得到 13，而不是 20，因为乘法操作符比加法操作符有较高的优先级，所以先计算 3 _ 2 得到 6，然后再加 7。

下表中具有最高优先级的操作符在的表的最上面，最低优先级的在表的底部。

| 类别     | 操作符                                      | 关联性   |
| -------- | ------------------------------------------- | -------- |
| 后缀     | () [] . (点操作符)                          | 左到右   |
| 一元     | + + - ！〜                                  | 从右到左 |
| 乘性     | \* /％                                      | 左到右   |
| 加性     | + -                                         | 左到右   |
| 移位     | >> >>> <<                                   | 左到右   |
| 关系     | >> = << =                                   | 左到右   |
| 相等     | == !=                                       | 左到右   |
| 按位与   | ＆                                          | 左到右   |
| 按位异或 | ^                                           | 左到右   |
| 按位或   | \|                                          | 左到右   |
| 逻辑与   | &&                                          | 左到右   |
| 逻辑或   | \| \|                                       | 左到右   |
| 条件     | ？：                                        | 从右到左 |
| 赋值     | = + = - = \* = / =％= >> = << =＆= ^ = \| = | 从右到左 |
| 逗号     | ，                                          | 左到右   |
